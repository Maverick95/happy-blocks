var happyblocks;(()=>{"use strict";var t={d:(e,r)=>{for(var i in r)t.o(r,i)&&!t.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:r[i]})},o:(t,e)=>Object.prototype.hasOwnProperty.call(t,e),r:t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}},e={};t.r(e),t.d(e,{grid:()=>u,rotate:()=>h,tetromino:()=>x});var r,i,o,s,n=function(t,e,r,i,o){if("m"===i)throw new TypeError("Private method is not writable");if("a"===i&&!o)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof e?t!==e||!o:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===i?o.call(t,r):o?o.value=r:e.set(t,r),r},a=function(t,e,r,i){if("a"===r&&!i)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof e?t!==e||!i:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?i:"a"===r?i.call(t):i?i.value:e.get(t)};r=new WeakMap,i=new WeakMap,o=new WeakMap,s=new WeakMap;var f;!function(t){t.CLOCKWISE="clockwise",t.COUNTER_CLOCKWISE="counter-clockwise"}(f||(f={}));const c=f,h=(t,e,r=c.CLOCKWISE,i=(()=>{const t={x:0,y:0};return{next:()=>{const e=Object.assign({},t);return t.x>=0&&t.y<0?(t.x++,t.y++):t.x>0&&t.y>=0?(t.x--,t.y++):t.x<=0&&t.y>0?(t.x--,t.y--):t.x<0&&t.y<=0?t.y-=0==++t.x?2:1:t.y--,e},reset:()=>{t.x=0,t.y=0}}})())=>{const o=[0,...t.coordinates.map((t=>t.id))],s={x:t.x,y:t.y,coordinates:t.coordinates.map((t=>Object.assign({},t)))};s.coordinates.forEach((t=>{const e=t.x,i=t.y;r===c.CLOCKWISE?(t.x=0===i?0:-i,t.y=e):(t.x=i,t.y=0===e?0:-e)}));let n=null;for(i.reset();null===n;){const t=i.next();let r=!0;for(var a of s.coordinates){const i=s.x+t.x+a.x,n=s.y+t.y+a.y;if(i<0||i>=e.getWidth()||n>=e.getHeight()||n>=0&&!o.includes(e.getSpace(i,n))){r=!1;break}}r&&(n=Object.assign({},t))}return s.x+=n.x,s.y+=n.y,s};var y;!function(t){t.O="O",t.S="S",t.Z="Z",t.T="T",t.L="L",t.J="J",t.I="I"}(y||(y={}));const l=y,x=t=>({[l.O]:{color:"#00ff00",coordinates:[{x:0,y:0},{x:0,y:1},{x:1,y:0},{x:1,y:1}]},[l.S]:{color:"#00ffff",coordinates:[{x:0,y:1},{x:1,y:0},{x:1,y:1},{x:2,y:0}]},[l.Z]:{color:"#400000",coordinates:[{x:0,y:0},{x:1,y:0},{x:1,y:1},{x:2,y:1}]},[l.T]:{color:"#8000ff",coordinates:[{x:-1,y:0},{x:0,y:0},{x:0,y:1},{x:1,y:0}]},[l.L]:{color:"#0000ff",coordinates:[{x:0,y:0},{x:0,y:1},{x:1,y:0},{x:2,y:0}]},[l.J]:{color:"#ff00ff",coordinates:[{x:0,y:0},{x:0,y:1},{x:1,y:1},{x:2,y:1}]},[l.I]:{color:"#ffff00",coordinates:[{x:0,y:0},{x:1,y:0},{x:2,y:0},{x:3,y:0}]}}[t]),u=()=>new class{constructor(t,e){if(r.set(this,void 0),i.set(this,void 0),o.set(this,void 0),this.getWidth=()=>a(this,r,"f"),this.getHeight=()=>a(this,i,"f"),this.setWidth=t=>{if(!Number.isInteger(t)||t<1||t>10)throw new Error("Incorrect attribute");n(this,r,t,"f"),a(this,s,"f").call(this)},this.setHeight=t=>{if(!Number.isInteger(t)||t<1||t>20)throw new Error("Incorrect attribute");n(this,i,t,"f"),a(this,s,"f").call(this)},this.setSpace=(t,e,s)=>{if(!Number.isInteger(t)||!Number.isInteger(e)||!Number.isInteger(s)||t<=0||e<0||e>=a(this,r,"f")||s>=a(this,i,"f"))throw new Error("Incorrect attribute");s>=0&&(a(this,o,"f")[s][e]=t)},this.getSpace=(t,e)=>{if(!Number.isInteger(t)||!Number.isInteger(e))throw new Error("Incorrect attribute");if(!(t<0||t>=a(this,r,"f")||e<0||e>=a(this,i,"f")))return a(this,o,"f")[e][t]},this.clearSpace=(t,e)=>{if(!Number.isInteger(t)||!Number.isInteger(e)||t<0||t>=a(this,r,"f")||e>=a(this,i,"f"))throw new Error("Incorrect attribute");e>=0&&(a(this,o,"f")[e][t]=0)},s.set(this,(()=>{var t,e;const s=null!==(e=null===(t=a(this,o,"f")[0])||void 0===t?void 0:t.length)&&void 0!==e?e:0;a(this,r,"f")<s?a(this,o,"f").forEach((t=>t.splice(a(this,r,"f")))):a(this,r,"f")>s&&a(this,o,"f").forEach((t=>t.splice(a(this,r,"f"),0,...new Array(a(this,r,"f")-s).fill(0))));const n=a(this,o,"f").length;if(a(this,i,"f")<n)a(this,o,"f").splice(a(this,i,"f"));else if(a(this,i,"f")>n)for(let t=0;t<a(this,i,"f")-n;t++)a(this,o,"f").push(new Array(a(this,r,"f")).fill(0))})),!Number.isInteger(t)||!Number.isInteger(e)||t<0||e<0)throw new Error("Invalid arguments");n(this,r,t,"f"),n(this,i,e,"f"),n(this,o,[],"f"),a(this,s,"f").call(this)}}(0,0);happyblocks=e})();